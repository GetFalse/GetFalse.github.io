{"title":"Swagger2","date":"2020-03-16T10:01:11.000Z","date_formatted":{"ll":"Mar 16, 2020","L":"03/16/2020","MM-DD":"03-16"},"link":"2020/03/16/Swagger2","comments":true,"tags":["Swagger2"],"categories":["RestAPI"],"updated":"2020-03-18T02:45:03.485Z","content":"<h1 id=\"环境介绍\">环境介绍<a href=\"#环境介绍\" title=\"环境介绍\"></a></h1><p>springboot：2.2.5<br>swagger2：2.9.2<br>JDK：1.8</p>\n<h1 id=\"什么是swagger\">什么是Swagger<a href=\"#什么是swagger\" title=\"什么是Swagger\"></a></h1><p>Swagger 是一套基于 OpenAPI 规范构建的开源工具，可以帮助我们设计、构建、记录以及使用 Rest API。相对于传统的手动编写API文档，Swagger能够保证实时性，文档随代码一起更新，这样可以解决应文档未更新导致的一系列沟通问题。</p>\n<h1 id=\"如何集成swagger2\">如何集成Swagger2<a href=\"#如何集成swagger2\" title=\"如何集成Swagger2\"></a></h1><h2 id=\"引入依赖包\">引入依赖包<a href=\"#引入依赖包\" title=\"引入依赖包\"></a></h2><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">swagger2.version</span>&gt;</span>2.9.2<span class=\"tag\">&lt;/<span class=\"name\">swagger2.version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">properties</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">     <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>io.springfox<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">     <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>springfox-swagger2<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">     <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>$&#123;swagger2.version&#125;<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>io.springfox<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>springfox-swagger-ui<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>$&#123;swagger2.version&#125;<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"创建配置类\">创建配置类<a href=\"#创建配置类\" title=\"创建配置类\"></a></h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.context.annotation.Bean;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.context.annotation.Configuration;</span><br><span class=\"line\"><span class=\"keyword\">import</span> springfox.documentation.builders.ParameterBuilder;</span><br><span class=\"line\"><span class=\"keyword\">import</span> springfox.documentation.builders.PathSelectors;</span><br><span class=\"line\"><span class=\"keyword\">import</span> springfox.documentation.builders.RequestHandlerSelectors;</span><br><span class=\"line\"><span class=\"keyword\">import</span> springfox.documentation.schema.ModelRef;</span><br><span class=\"line\"><span class=\"keyword\">import</span> springfox.documentation.service.ApiInfo;</span><br><span class=\"line\"><span class=\"keyword\">import</span> springfox.documentation.service.Contact;</span><br><span class=\"line\"><span class=\"keyword\">import</span> springfox.documentation.service.Parameter;</span><br><span class=\"line\"><span class=\"keyword\">import</span> springfox.documentation.spi.DocumentationType;</span><br><span class=\"line\"><span class=\"keyword\">import</span> springfox.documentation.spring.web.plugins.Docket;</span><br><span class=\"line\"><span class=\"keyword\">import</span> springfox.documentation.swagger2.annotations.EnableSwagger2;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.ArrayList;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.Collections;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.List;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Configuration</span></span><br><span class=\"line\"><span class=\"meta\">@EnableSwagger</span>2</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">SwaggerConfig</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Bean</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> Docket <span class=\"title\">api</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 添加请求参数，我们这里把token作为请求头部参数传入后端</span></span><br><span class=\"line\">        ParameterBuilder parameterBuilder = <span class=\"keyword\">new</span> ParameterBuilder();</span><br><span class=\"line\">        List&lt;Parameter&gt; parameters = <span class=\"keyword\">new</span> ArrayList&lt;&gt;();</span><br><span class=\"line\">        parameterBuilder.name(<span class=\"string\">\"Authorization\"</span>).description(<span class=\"string\">\"令牌\"</span>).modelRef(<span class=\"keyword\">new</span> ModelRef(<span class=\"string\">\"string\"</span>)).parameterType(<span class=\"string\">\"header\"</span>)</span><br><span class=\"line\">                .required(<span class=\"keyword\">false</span>).defaultValue(<span class=\"string\">\"Bearer \"</span>).build();</span><br><span class=\"line\">        parameters.add(parameterBuilder.build());</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> Docket(DocumentationType.SWAGGER_2)</span><br><span class=\"line\">                .select()</span><br><span class=\"line\">                .apis(RequestHandlerSelectors.basePackage(<span class=\"string\">\"com.bugbak.mail.controller\"</span>))<span class=\"comment\">//这种方式我们可以通过指定包名的方式，让 Swagger 只去某些包下面扫描。</span></span><br><span class=\"line\">                .paths(PathSelectors.any())<span class=\"comment\">//这种方式可以通过筛选 API 的 url 来进行过滤。</span></span><br><span class=\"line\">                .build()</span><br><span class=\"line\">                .globalOperationParameters(parameters)</span><br><span class=\"line\">                .apiInfo(apiInfo());</span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * 接口过滤</span></span><br><span class=\"line\"><span class=\"comment\">         * .apis(RequestHandlerSelectors.basePackage(\"com.bugbak.wcbase.controller\"))</span></span><br><span class=\"line\"><span class=\"comment\">         * .paths(Predicates.or(PathSelectors.ant(\"/user/add\"),</span></span><br><span class=\"line\"><span class=\"comment\">         *         PathSelectors.ant(\"/user/find/*\")))</span></span><br><span class=\"line\"><span class=\"comment\">         *</span></span><br><span class=\"line\"><span class=\"comment\">         * 自定义响应消息</span></span><br><span class=\"line\"><span class=\"comment\">         * .useDefaultResponseMessages(false)</span></span><br><span class=\"line\"><span class=\"comment\">         *                 .globalResponseMessage(RequestMethod.GET, Arrays.asList(</span></span><br><span class=\"line\"><span class=\"comment\">         *                         new ResponseMessageBuilder()</span></span><br><span class=\"line\"><span class=\"comment\">         *                                 .code(500)</span></span><br><span class=\"line\"><span class=\"comment\">         *                                 .message(\"服务器发生异常\")</span></span><br><span class=\"line\"><span class=\"comment\">         *                                 .responseModel(new ModelRef(\"Error\"))</span></span><br><span class=\"line\"><span class=\"comment\">         *                                 .build(),</span></span><br><span class=\"line\"><span class=\"comment\">         *                         new ResponseMessageBuilder()</span></span><br><span class=\"line\"><span class=\"comment\">         *                                 .code(403)</span></span><br><span class=\"line\"><span class=\"comment\">         *                                 .message(\"资源不可用\")</span></span><br><span class=\"line\"><span class=\"comment\">         *                                 .build()</span></span><br><span class=\"line\"><span class=\"comment\">         *                 )</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">private</span> ApiInfo <span class=\"title\">apiInfo</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> ApiInfo(</span><br><span class=\"line\">                <span class=\"string\">\"Spring Boot 项目集成 Swagger 实例文档\"</span>,</span><br><span class=\"line\">                <span class=\"string\">\"发送EmailAPI\"</span>,</span><br><span class=\"line\">                <span class=\"string\">\"API V1.0\"</span>,</span><br><span class=\"line\">                <span class=\"string\">\"Terms of service\"</span>,</span><br><span class=\"line\">                <span class=\"keyword\">new</span> Contact(<span class=\"string\">\"XXX\"</span>, <span class=\"string\">\"https://www.XXXX.com\"</span>, <span class=\"string\">\"XXXX@163.com\"</span>),</span><br><span class=\"line\">                <span class=\"string\">\"Apache\"</span>, <span class=\"string\">\"http://www.apache.org/\"</span>, Collections.emptyList());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"controller配置示例如下\">Controller配置示例如下<a href=\"#controller配置示例如下\" title=\"Controller配置示例如下\"></a></h2><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> io.swagger.annotations.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.cloud.context.config.annotation.RefreshScope;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.core.io.FileSystemResource;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.mail.SimpleMailMessage;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.mail.javamail.JavaMailSender;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.mail.javamail.MimeMessageHelper;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.bind.annotation.PostMapping;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.thymeleaf.TemplateEngine;</span><br><span class=\"line\"><span class=\"keyword\">import</span> org.thymeleaf.context.Context;</span><br><span class=\"line\"><span class=\"keyword\">import</span> springfox.documentation.annotations.ApiIgnore;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> javax.mail.internet.MimeMessage;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.File;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@RestController</span></span><br><span class=\"line\"><span class=\"meta\">@RequestMapping</span>(<span class=\"string\">\"/email\"</span>)</span><br><span class=\"line\"><span class=\"meta\">@RefreshScope</span></span><br><span class=\"line\"><span class=\"meta\">@Api</span>(tags = <span class=\"string\">\"Email发送相关\"</span>)</span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">EmailController</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> JavaMailSender jms;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Value</span>(<span class=\"string\">\"$&#123;spring.mail.username&#125;\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String from;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Value</span>(<span class=\"string\">\"$&#123;self.feedbackEmail&#125;\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String feedbackEmail;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> TemplateEngine templateEngine;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@PostMapping</span>(value = <span class=\"string\">\"sendTemplateEmail\"</span>)</span><br><span class=\"line\">    <span class=\"meta\">@ApiOperation</span>(<span class=\"string\">\"发送模板文件\"</span>)</span><br><span class=\"line\">    <span class=\"meta\">@ApiImplicitParams</span>(value = &#123;</span><br><span class=\"line\">            <span class=\"meta\">@ApiImplicitParam</span>(name = <span class=\"string\">\"email\"</span>,value =<span class=\"string\">\"邮箱地址\"</span>,example = <span class=\"string\">\"xxxxx@163.com\"</span>),</span><br><span class=\"line\">            <span class=\"meta\">@ApiImplicitParam</span>(name = <span class=\"string\">\"code\"</span>,value =<span class=\"string\">\"验证码\"</span>),</span><br><span class=\"line\">            <span class=\"meta\">@ApiImplicitParam</span>(name = <span class=\"string\">\"businessType\"</span>,value =<span class=\"string\">\"业务类型\"</span>),</span><br><span class=\"line\">            <span class=\"meta\">@ApiImplicitParam</span>(name = <span class=\"string\">\"title\"</span>,value =<span class=\"string\">\"邮件标题\"</span>),</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">public</span> String <span class=\"title\">sendTemplateEmail</span><span class=\"params\">(String email,String code,String businessType, String title)</span> </span>&#123;</span><br><span class=\"line\">        MimeMessage message = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            message = jms.createMimeMessage();</span><br><span class=\"line\">            MimeMessageHelper helper = <span class=\"keyword\">new</span> MimeMessageHelper(message, <span class=\"keyword\">true</span>);</span><br><span class=\"line\">            helper.setFrom(from);</span><br><span class=\"line\">            helper.setTo(email); <span class=\"comment\">// 接收地址</span></span><br><span class=\"line\">            helper.setSubject(title); <span class=\"comment\">// 标题</span></span><br><span class=\"line\">            <span class=\"comment\">// 处理邮件模板</span></span><br><span class=\"line\">            Context context = <span class=\"keyword\">new</span> Context();</span><br><span class=\"line\">            context.setVariable(<span class=\"string\">\"code\"</span>, code);</span><br><span class=\"line\">            context.setVariable(<span class=\"string\">\"type\"</span>, businessType);</span><br><span class=\"line\">            context.setVariable(<span class=\"string\">\"feedbackEmail\"</span>, feedbackEmail);</span><br><span class=\"line\">            String template = templateEngine.process(<span class=\"string\">\"emailTemplate\"</span>, context);</span><br><span class=\"line\">            helper.setText(template, <span class=\"keyword\">true</span>);</span><br><span class=\"line\">            jms.send(message);</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"string\">\"发送成功\"</span>;</span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> (Exception e) &#123;</span><br><span class=\"line\">            e.printStackTrace();</span><br><span class=\"line\">            <span class=\"keyword\">return</span> e.getMessage();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"访问地址\">访问地址<a href=\"#访问地址\" title=\"访问地址\"></a></h2><p><a href=\"http://localhost:8083/swagger-ui.html\" target=\"_blank\">http://localhost:8083/swagger-ui.html</a></p>\n<h1 id=\"其他配置说明\">其他配置说明<a href=\"#其他配置说明\" title=\"其他配置说明\"></a></h1><h2 id=\"api\">@Api()<a href=\"#api\" title=\"@Api()\"></a></h2><p>用在请求的类上，表示对类的说明，也代表了这个类是swagger2的资源</p>\n<p>参数：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tags：说明该类的作用，参数是个数组，可以填多个。</span><br><span class=\"line\">value&#x3D;&quot;该参数没什么意义，在UI界面上不显示，所以不用配置&quot;</span><br><span class=\"line\">description &#x3D; &quot;用户基本信息操作&quot;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"apioperation\">@ApiOperation()<a href=\"#apioperation\" title=\"@ApiOperation()\"></a></h2><p>用于方法，表示一个http请求访问该方法的操作</p>\n<p>参数：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">value&#x3D;&quot;方法的用途和作用&quot;    </span><br><span class=\"line\">notes&#x3D;&quot;方法的注意事项和备注&quot;    </span><br><span class=\"line\">tags：说明该方法的作用，参数是个数组，可以填多个。</span><br><span class=\"line\">格式：tags&#x3D;&#123;&quot;作用1&quot;,&quot;作用2&quot;&#125; </span><br><span class=\"line\">（在这里建议不使用这个参数，会使界面看上去有点乱，前两个常用）</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"apimodel\">@ApiModel()<a href=\"#apimodel\" title=\"@ApiModel()\"></a></h2><p>用于响应实体类上，用于说明实体作用</p>\n<p>参数：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">description&#x3D;&quot;描述实体的作用&quot;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"apimodelproperty\">@ApiModelProperty<a href=\"#apimodelproperty\" title=\"@ApiModelProperty\"></a></h2><p>用在属性上，描述实体类的属性</p>\n<p>参数：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">value&#x3D;&quot;用户名&quot;  描述参数的意义</span><br><span class=\"line\">name&#x3D;&quot;name&quot;    参数的变量名</span><br><span class=\"line\">required&#x3D;true     参数是否必选</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"apiimplicitparams\">@ApiImplicitParams<a href=\"#apiimplicitparams\" title=\"@ApiImplicitParams\"></a></h2><p>用在请求的方法上，包含多@ApiImplicitParam</p>\n<h2 id=\"apiimplicitparam\">@ApiImplicitParam<a href=\"#apiimplicitparam\" title=\"@ApiImplicitParam\"></a></h2><p>用于方法，表示单独的请求参数</p>\n<p>参数：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">name&#x3D;&quot;参数ming&quot; </span><br><span class=\"line\">value&#x3D;&quot;参数说明&quot; </span><br><span class=\"line\">dataType&#x3D;&quot;数据类型&quot; </span><br><span class=\"line\">paramType&#x3D;&quot;query&quot; 表示参数放在哪里</span><br><span class=\"line\">    · header 请求参数的获取：@RequestHeader</span><br><span class=\"line\">    · query   请求参数的获取：@RequestParam</span><br><span class=\"line\">    · path（用于restful接口） 请求参数的获取：@PathVariable</span><br><span class=\"line\">    · body（不常用）</span><br><span class=\"line\">    · form（不常用） </span><br><span class=\"line\">defaultValue&#x3D;&quot;参数的默认值&quot;</span><br><span class=\"line\">required&#x3D;&quot;true&quot; 表示参数是否必须传</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"apiparam\">@ApiParam()<a href=\"#apiparam\" title=\"@ApiParam()\"></a></h2><p>用于方法，参数，字段说明 表示对参数的要求和说明</p>\n<p>参数：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">name&#x3D;&quot;参数名称&quot;</span><br><span class=\"line\">value&#x3D;&quot;参数的简要说明&quot;</span><br><span class=\"line\">defaultValue&#x3D;&quot;参数默认值&quot;</span><br><span class=\"line\">required&#x3D;&quot;true&quot; 表示属性是否必填，默认为false</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"apiresponses\">@ApiResponses<a href=\"#apiresponses\" title=\"@ApiResponses\"></a></h2><p>用于请求的方法上，根据响应码表示不同响应</p>\n<p>一个@ApiResponses包含多个@ApiResponse</p>\n<h2 id=\"apiresponse\">@ApiResponse<a href=\"#apiresponse\" title=\"@ApiResponse\"></a></h2><p>用在请求的方法上，表示不同的响应</p>\n<p>参数：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">code&#x3D;&quot;404&quot;    表示响应码(int型)，可自定义</span><br><span class=\"line\">message&#x3D;&quot;状态码对应的响应信息&quot;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"apiignore\">@ApiIgnore()<a href=\"#apiignore\" title=\"@ApiIgnore()\"></a></h2><p>用于类或者方法上，不被显示在页面上</p>\n<h2 id=\"profiledev-test\">@Profile({“dev”, “test”})<a href=\"#profiledev-test\" title=\"@Profile({“dev”, “test”})\"></a></h2><p>用于配置类上，表示只对开发和测试环境有用</p>\n<h1 id=\"参考\">参考<a href=\"#参考\" title=\"参考\"></a></h1><p><a href=\"https://www.ibm.com/developerworks/cn/java/j-using-swagger-in-a-spring-boot-project/index.html\" target=\"_blank\">https://www.ibm.com/developerworks/cn/java/j-using-swagger-in-a-spring-boot-project/index.html</a></p>\n<p><a href=\"https://zhuanlan.zhihu.com/p/49996147\" target=\"_blank\">https://zhuanlan.zhihu.com/p/49996147</a></p>\n","prev":{"title":"SpringCloudSleuth","link":"2020/03/17/SpringCloudSleuth"},"next":{"title":"SpringBootEmail","link":"2020/03/15/SpringBootEmail"},"plink":"https://blog.bugbak.com/2020/03/16/Swagger2/","toc":[{"id":"环境介绍","title":"环境介绍","index":"1"},{"id":"什么是swagger","title":"什么是Swagger","index":"2"},{"id":"如何集成swagger2","title":"如何集成Swagger2","index":"3","children":[{"id":"引入依赖包","title":"引入依赖包","index":"3.1"},{"id":"创建配置类","title":"创建配置类","index":"3.2"},{"id":"controller配置示例如下","title":"Controller配置示例如下","index":"3.3"},{"id":"访问地址","title":"访问地址","index":"3.4"}]},{"id":"其他配置说明","title":"其他配置说明","index":"4","children":[{"id":"api","title":"@Api()","index":"4.1"},{"id":"apioperation","title":"@ApiOperation()","index":"4.2"},{"id":"apimodel","title":"@ApiModel()","index":"4.3"},{"id":"apimodelproperty","title":"@ApiModelProperty","index":"4.4"},{"id":"apiimplicitparams","title":"@ApiImplicitParams","index":"4.5"},{"id":"apiimplicitparam","title":"@ApiImplicitParam","index":"4.6"},{"id":"apiparam","title":"@ApiParam()","index":"4.7"},{"id":"apiresponses","title":"@ApiResponses","index":"4.8"},{"id":"apiresponse","title":"@ApiResponse","index":"4.9"},{"id":"apiignore","title":"@ApiIgnore()","index":"4.10"},{"id":"profiledev-test","title":"@Profile({“dev”, “test”})","index":"4.11"}]},{"id":"参考","title":"参考","index":"5"}],"reward":true,"copyright":{"author":"Dz","link":"<a href=\"https://blog.bugbak.com/2020/03/16/Swagger2/\" title=\"Swagger2\">https://blog.bugbak.com/2020/03/16/Swagger2/</a>","license":"本博客所有文章除特别声明外，均采用(<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"nofollow\" target=\"_blank\">CC BY-NC-SA 4.0</a>)许可协议，转载请注明来源<a href=\"https://blog.bugbak.com\" rel=\"nofollow\" target=\"_blank\">BugBak</a>"}}