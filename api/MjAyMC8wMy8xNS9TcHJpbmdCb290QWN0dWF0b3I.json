{"title":"SpringBootActuator","date":"2020-03-15T10:01:11.000Z","date_formatted":{"ll":"Mar 15, 2020","L":"03/15/2020","MM-DD":"03-15"},"link":"2020/03/15/SpringBootActuator","comments":true,"tags":["Actuator"],"categories":["SpringBoot"],"updated":"2020-03-18T02:45:03.004Z","content":"<p>pom.xml文件</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>启动类中</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Bean</span> <span class=\"comment\">//为了开启HttpTrace端点</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">public</span> HttpTraceRepository <span class=\"title\">httpTrace</span><span class=\"params\">()</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> InMemoryHttpTraceRepository();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>application.yml</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">management:</span></span><br><span class=\"line\">  <span class=\"attr\">endpoints:</span></span><br><span class=\"line\">    <span class=\"attr\">web:</span></span><br><span class=\"line\">      <span class=\"attr\">exposure:</span></span><br><span class=\"line\">        <span class=\"attr\">include:</span> <span class=\"string\">'*'</span>  <span class=\"comment\">#开启所有端点</span></span><br></pre></td></tr></table></figure>\n\n<p>访问以下链接显示所有节点</p>\n<p><a href=\"http://localhost:8081/actuator\" target=\"_blank\">http://localhost:8081/actuator</a></p>\n<p>注意：</p>\n<p>​    生产环境不推荐使用HttpTrace跟踪http请求，推荐使用Zipkin或Spring Cloud Sleuth</p>\n<h1 id=\"参考\">参考<a href=\"#参考\" title=\"参考\"></a></h1><p><a href=\"https://docs.spring.io/spring-boot/docs/2.2.5.RELEASE/reference/html/production-ready-features.html#production-ready-http-tracing\" target=\"_blank\">https://docs.spring.io/spring-boot/docs/2.2.5.RELEASE/reference/html/production-ready-features.html#production-ready-http-tracing</a></p>\n","prev":{"title":"SpringBootEmail","link":"2020/03/15/SpringBootEmail"},"next":{"title":"SpringCloudBus","link":"2020/03/14/SpringCloudBus"},"plink":"https://blog.bugbak.com/2020/03/15/SpringBootActuator/","toc":[{"id":"参考","title":"参考","index":"1"}],"reward":true,"copyright":{"author":"Dz","link":"<a href=\"https://blog.bugbak.com/2020/03/15/SpringBootActuator/\" title=\"SpringBootActuator\">https://blog.bugbak.com/2020/03/15/SpringBootActuator/</a>","license":"本博客所有文章除特别声明外，均采用(<a href=\"https://creativecommons.org/licenses/by-nc-sa/4.0/\" rel=\"nofollow\" target=\"_blank\">CC BY-NC-SA 4.0</a>)许可协议，转载请注明来源<a href=\"https://blog.bugbak.com\" rel=\"nofollow\" target=\"_blank\">BugBak</a>"}}